---
description: Nix Flake Architecture Patterns
---
# Nix Flake Patterns

**Pattern**: Use `mkSystem` helper function for all host configurations.

**Key Points**:
- Always pass explicit `system` parameter to `nixosSystem`
- Pass `inputs` via `specialArgs` for nixos-hardware access
- Keep flake.nix outputs declarative and scalable
- Import hardware-specific modules in host config, not flake.nix
- Use `inherit system` to ensure architecture is passed correctly